<div class="row">
  <div class="col-12">
    <button mat-stroked-button (click)="newSupplier()" class="btn-icon btn-theme-stroked" type="button">
      <mat-icon>add</mat-icon>
      Nový dodávateľ
    </button>
  </div>
</div>
<div class="row mt-4">
  <div class="col-12">
    <h2>Zoznam dodávateľov</h2>
  </div>
  <div class="col-12">
    <div class="table-wrap">
      <div class="position-relative">
        <div class="loading-shade" *ngIf="isLoadingResults">
          <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
        </div>

        <table *ngIf="data" mat-table [dataSource]="item.itemPrices" class="table-hover table-data table-borderless w-100" matSort
          matSortDisableClear matSortDirection="desc">

          <!-- Name Column -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Názov dodávateľa </th>
            <td mat-cell *matCellDef="let element"> {{element.supplier.name}} </td>
          </ng-container>

          <!-- price Column -->
          <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef> Cena bez DPH </th>
            <td mat-cell *matCellDef="let element"> {{element.price}} €</td>
          </ng-container>

          <!-- currentTo Column -->
          <ng-container matColumnDef="currentTo">
            <th mat-header-cell *matHeaderCellDef> Cena aktuálna do </th>
            <td mat-cell *matCellDef="let element"> {{element.priceActualTo | date:'dd.MM.y'}}</td>
          </ng-container>

          <!-- Action Column -->
          <ng-container matColumnDef="actions">
            <th class="text-right p-0" mat-header-cell *matHeaderCellDef></th>
            <td class="text-right action-link pr-0" colspan="2" mat-cell *matCellDef="let element">
              <button mat-icon-button matTooltip="Edit item" (click)="edit($event, element)" type="button">
                <mat-icon class="text-theme">edit</mat-icon>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr class="cursor-pointer" mat-row *matRowDef="let row; columns: displayedColumns;" (click)="edit(null, row)"></tr>
        </table>
      </div>
    </div>
  </div>
</div>
