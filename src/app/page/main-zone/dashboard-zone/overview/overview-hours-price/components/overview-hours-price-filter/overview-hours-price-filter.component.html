<form [formGroup]="formGroup" (ngSubmit)="doFilter()">
    <div class="mt-3">
      <div class="row">
        <div class="col-md-4 col-lg-2">
          <ng-select [items]="users"
                     [clearable]="false"
                     bindLabel="displayName"
                     placeholder="Používateľ"
                     formControlName="userId"
                     class="filter-ng-select">
          </ng-select>
        </div>
        <div class="col-md-4 col-lg-2">
          <ng-select [clearable]="false"
                     bindLabel="fullTitle"
                     placeholder="Zákazka"
                     formControlName="projectId"
                     groupBy="group"
                     class="filter-ng-select">
            <ng-option [value]="{id: null, title: 'Firemný náklad'}">
              Firemný náklad
            </ng-option>
            <ng-option *ngFor="let project of projects" [value]="project">
              {{ project.fullTitle }}
            </ng-option>
          </ng-select>
        </div>
        <div class="col-md-4 col-lg-2">
          <ng-select [items]="categories"
                     [clearable]="false"
                     bindLabel="name"
                     placeholder="Kategória"
                     formControlName="categoryId"
                     groupBy="parentName"
                     class="filter-ng-select">
          </ng-select>
        </div>
        <div class="col-md-4 col-lg-2">
          <ng-select [items]="options"
                     [clearable]="false"
                     bindLabel="name"
                     placeholder="Zobrazenie"
                     formControlName="display"
                     groupBy="parentName"
                     class="filter-ng-select">
          </ng-select>
        </div>
      </div>
    </div>
  </form>
  <div class="d-block d-md-flex align-content-center mb-3" >
    <mat-chip-list aria-label="Filtering">
      <mat-chip class="text-gray my-md-0  mb-md-0" *ngIf="users && users.length > 0 && formGroup.get('userId').value">
        <mat-icon class="mr-1">person</mat-icon>
        {{formGroup.get('userId').value.displayName}}
        <mat-icon (click)="resetFilterValue('userId')" matChipRemove>cancel</mat-icon>
      </mat-chip>

      <mat-chip class="text-gray my-md-0  mb-md-0" *ngIf="projects && projects.length > 0 && formGroup.get('projectId').value">
        <mat-icon class="mr-1">layers</mat-icon>
        {{formGroup.get('projectId').value.title}}
        <mat-icon (click)="resetFilterValue('projectId')" matChipRemove>cancel</mat-icon>
      </mat-chip>

      <mat-chip class="text-gray my-md-0  mb-md-0" *ngIf="categories && categories.length > 0 && formGroup.get('categoryId').value">
        <mat-icon class="mr-1">folder</mat-icon>
        {{formGroup.get('categoryId').value.name}}
        <mat-icon (click)="resetFilterValue('categoryId')" matChipRemove>cancel</mat-icon>
      </mat-chip>

      <mat-chip class="text-gray my-md-0  mb-md-0" *ngIf="options && options.length > 0 && formGroup.get('display').value">
        <mat-icon class="mr-1">folder</mat-icon>
        {{formGroup.get('display').value.name}}
        <mat-icon (click)="resetFilterValue('display')" matChipRemove>cancel</mat-icon>
      </mat-chip>

    </mat-chip-list>
  </div>
