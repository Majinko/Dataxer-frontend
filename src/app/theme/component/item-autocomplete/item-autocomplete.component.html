<mat-form-field>
  <input [formControl]="myControl" [(ngModel)]="value" matInput placeholder="Hľadať položku" (input)="onInputChange()" [matAutocomplete]="auto">
  <mat-icon matSuffix class="text-gray">search</mat-icon>
  <mat-error *ngIf="myControl?.errors">Maximálna dĺžka je 255 znakov</mat-error>
</mat-form-field>

<mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn" (optionSelected)="setItem($event.option.value)">
  <ng-container>
    <mat-option *ngFor="let item of items" [value]="item">
      <span>{{ item.title }}</span>
    </mat-option>

    <mat-option *ngIf="items == null"><span>Žiadna položka nebola nájdená</span></mat-option>
    <mat-option *ngIf="isLoading" class="is-loading"><mat-progress-bar mode="indeterminate"></mat-progress-bar></mat-option>
  </ng-container>
</mat-autocomplete>
